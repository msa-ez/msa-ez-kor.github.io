{"hash":"44ac63a443851b9a0102eeb1d8f5a79c91629432","data":{"markdownPage":{"id":"82b4f8a68e4eec75a2c31466c08b6470","title":"정부24 클라우드 네이티브 전환: 마이크로서비스 아키텍처로 공공서비스 혁신하기","description":"","path":"/info/case-study-gov24/","timeToRead":8,"content":"<h1 id=\"정부24-클라우드-네이티브-전환-마이크로서비스-아키텍처로-공공서비스-혁신하기\"><a href=\"#%EC%A0%95%EB%B6%8024-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%A0%84%ED%99%98-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%A1%9C-%EA%B3%B5%EA%B3%B5%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%98%81%EC%8B%A0%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>정부24 클라우드 네이티브 전환: 마이크로서비스 아키텍처로 공공서비스 혁신하기</h1>\n<p>본 포스트에서는 유엔진솔루션즈가 수행한 정부24 포털 클라우드 네이티브 전환 1차 프로젝트의 <strong>설계 및 분석 과정</strong>을 살펴보고,\n<strong>마이크로서비스 아키텍처(MSA)</strong> 도입을 통해 어떤 변화가 이루어졌는지 기술적 흐름을 깊이 있게 설명합니다.</p>\n<p>특히 기존 모놀리식 민원시스템의 한계와 이를 극복한 <strong>AS-IS vs TO-BE 구조</strong>를 비교하고 민원 유형별 최적화 전략과 핵심 기술 패턴(Saga, 이벤트 드리븐, CQRS 등)의 실질적 적용 사례를 소개합니다. </p>\n<p>이를 통해, 개발자 독자에게는 실제 현업 프로젝트의 MSA 적용 인사이트를, 일반 독자에게는 정부 민원서비스가 어떻게 혁신되고 있는지 맥락을 전달하고자 합니다.</p>\n<h2 id=\"공공-클라우드-전환-배경과-정부24의-도전\"><a href=\"#%EA%B3%B5%EA%B3%B5-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EC%A0%84%ED%99%98-%EB%B0%B0%EA%B2%BD%EA%B3%BC-%EC%A0%95%EB%B6%8024%EC%9D%98-%EB%8F%84%EC%A0%84\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>공공 클라우드 전환 배경과 정부24의 도전</h2>\n<p>행정안전부는 2030년까지 모든 공공 시스템을 클라우드로 전환한다는 '공공 부문 정보자원 클라우드 전환 계획' 아래, 디지털 정부 혁신을 가속화하고 있습니다.\n2026년까지 신규 시스템의 70% 이상에 클라우드 네이티브를 적용하겠다는 공격적인 목표 아래, 2025년 7개 기관의 9개 대표 시스템을 대상으로 한 대규모 1차 전환 사업이 시작되었습니다.</p>\n<p>그 중심에 있는 것이 바로 <strong>정부24민원서비스 포털</strong>입니다. 국민 생활과 가장 밀접한 민원 포털인 정부24는 이용자가 몰리는 상황에서도 멈추지 않는 안정성이 필수적입니다.\n이에 정부는 이번 전환을 통해 시스템 용량을 최대 <strong>7.6배까지 자동 확장</strong>하고, 서비스 중단 시간은 <strong>81.6%</strong> 줄이며, 처리 속도는 <strong>36.7% 단축</strong>하는 것을 목표로 삼았습니다.\n이러한 기술적 도약은 궁극적으로 국민들에게 더 빠르고 쾌적한 디지털 행정 서비스를 제공하는 탄탄한 기반이 될 것입니다.</p>\n<p><img src=\"https://www.uengine.org/images/blog/gov24-01.png\"></p>\n<p align=\"center\">[정부24 클라우드 네이티브 전환 핵심]</p>\n<h2 id=\"정부24-클라우드-네이티브-전환-분석\"><a href=\"#%EC%A0%95%EB%B6%8024-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%A0%84%ED%99%98-%EB%B6%84%EC%84%9D\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>정부24 클라우드 네이티브 전환 분석</h2>\n<h3 id=\"기존-시스템의-문제점-as-is-아키텍처-한계\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%98-%EB%AC%B8%EC%A0%9C%EC%A0%90-as-is-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%ED%95%9C%EA%B3%84\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>기존 시스템의 문제점 (AS-IS 아키텍처 한계)</h3>\n<p>정부24의 클라우드 네이티브 전환은 2024년 수립된 정보화전략계획(ISP)을 토대로 본격화되었습니다.\n이 로드맵에 따라 구체적인 전환 설계를 착수한 <strong>유엔진솔루션즈</strong>는 가장 먼저 기존 시스템에 대한 정밀 분석을 수행하였고,\n그 과정에서 <strong>모놀리식 구조의 한계</strong>와 치명적인 단일 장애점(SPOF)을 발견하게 되었습니다.</p>\n<h4 id=\"1-강한-결합tight-coupling으로-인한-경직성\"><a href=\"#1-%EA%B0%95%ED%95%9C-%EA%B2%B0%ED%95%A9tight-coupling%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EA%B2%BD%EC%A7%81%EC%84%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1. 강한 결합(Tight Coupling)으로 인한 경직성</h4>\n<p>분석 결과, 기존 정부24 시스템은 전형적인 모놀리식 통합 구조이거나 거대 애플리케이션 간 강결합 구조를 띠고 있었습니다.\n내부 모듈 간 높은 의존성으로 인해 유지보수와 기능 확장이 어려웠을 뿐 아니라, 작은 부분의 장애나 변경사항이 시스템 전체로 즉각 전파될 만큼 결합도가 높아 배포의 유연성을 크게 저해하고 있었습니다.</p>\n<h4 id=\"2-민원안내-서비스의-spof-리스크\"><a href=\"#2-%EB%AF%BC%EC%9B%90%EC%95%88%EB%82%B4-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-spof-%EB%A6%AC%EC%8A%A4%ED%81%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. '민원안내' 서비스의 SPOF 리스크</h4>\n<p>더 큰 약점은 구조적인 단일 장애점(SPOF)이었습니다.\n모든 민원 신청 절차가 '민원안내(검색/안내)' 모듈을 거쳐야만 시작되는 구조였기 때문에, 이 서비스 하나가 중단되면 정부24의 모든 민원 업무가 마비되는 상황이었습니다.\n이는 단 한 곳의 장애로 전체 대국민 서비스가 중단되는 구조적 취약점으로, 클라우드 전환 시 반드시 해소해야 할 최우선 과제였습니다.</p>\n<p>요약하자면, 기존 시스템은 모놀리식 특성으로 인해 유연성과 고가용성이 떨어졌고, 부분의 장애가 전체로 확산될 위험이 높았습니다.\n또한 임계 부하 상황에서 탄력적 대응이 불가능해 성능 저하 우려가 컸습니다.\n이러한 분석을 바탕으로 유엔진솔루션즈는 <strong>서비스 분리와 재설계</strong>를 통해 결합도를 낮추고 안정성을 확보하는 아키텍처 전략을 수립하게 되었습니다.</p>\n<h3 id=\"민원-유형별-아키텍처-전환-전략-to-be-구조-설계\"><a href=\"#%EB%AF%BC%EC%9B%90-%EC%9C%A0%ED%98%95%EB%B3%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%A0%84%ED%99%98-%EC%A0%84%EB%9E%B5-to-be-%EA%B5%AC%EC%A1%B0-%EC%84%A4%EA%B3%84\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>민원 유형별 아키텍처 전환 전략 (TO-BE 구조 설계)</h3>\n<p>정부24포털은 처리되는 <strong>민원 서비스의 성격에 따라</strong> 크게 3 가지 유형으로 구분할 수 있습니다.</p>\n<p>민원 업무의 업무 처리 방식과 요구되는 성능/신뢰성 수준에 따라 <strong>동기 vs 비동기, 이벤트 중심 vs API 호출, 전용 도메인 분리</strong> 등 서로 다른 아키텍처 패턴을 적용함으로써 서비스별 특성에 맞는 유연하고 효율적인 MSA구조를 설계하였습니다. </p>\n<p>아래는 <strong>① 단순신청/즉시발급형 민원, ② 유기한/비연계 민원, ③ 주요 민원</strong> 유형에 맞춤화된 개선 전후 구조와 서비스 흐름을 설명합니다.</p>\n<h4 id=\"-단순신청즉시발급형-민원--동기식--rest-기반-msa\"><a href=\"#-%EB%8B%A8%EC%88%9C%EC%8B%A0%EC%B2%AD%EC%A6%89%EC%8B%9C%EB%B0%9C%EA%B8%89%ED%98%95-%EB%AF%BC%EC%9B%90--%EB%8F%99%EA%B8%B0%EC%8B%9D--rest-%EA%B8%B0%EB%B0%98-msa\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>① 단순신청/즉시발급형 민원 – <strong>동기식  REST 기반 MSA</strong></h4>\n<p>단순신청/즉시발급 민원은 말 그대로 <strong>신청과 동시에 즉시 결과물을 발급</strong>할 수 있는 유형의 서비스들입니다.\n예를 들면 주민등록등본 출력, 행복출산 원스톱 서비스와 같이 별도의 승인 절차가 없고, 단순 신청만으로 실시간으로 처리 가능한 민원들이 해당됩니다. </p>\n<p>이러한 서비스들은 <strong>사용자 요청에 대한 응답 시간을 최소화</strong>하는 것이 최우선이므로, 전환된 아키텍처에서도 <strong>동기식 REST 호출 방식</strong>을 유지하여 처리 흐름을 간소화하였습니다.</p>\n<p>과거 구조에서는 발급 모듈이 신청 상태정보를 갱신하기 위해 <strong>직접 신청 DB를 갱신</strong>하거나 여러 단계를 한 프로세스 안에서 처리하는 비효율이 존재했으나,\n새로 설계된 구조에서는 <strong>민원발급 서비스가 민원신청 서비스를 REST API로 직접 호출</strong>하여 결과를 갱신하는 식으로 변경되었습니다.\n이렇게 함으로써 서비스 간 인터페이스를 명확히 하고, <strong>다른 경계 서비스의 데이터 저장소 직접 연동</strong>을 제거하여 결합도를 낮추었습니다. </p>\n<p>즉 <strong>내부 연계는 최대한 단순 함수 호출이나 내부 API 호출로 처리</strong>하고, 불필요하게 메시지 브로커를 경유하지 않도록 하여 성능 오버헤드를 감소하였습니다.</p>\n<h4 id=\"-유기한-민원--비연계-민원--이벤트스토어-기반-비동기-pubsub-구조\"><a href=\"#-%EC%9C%A0%EA%B8%B0%ED%95%9C-%EB%AF%BC%EC%9B%90--%EB%B9%84%EC%97%B0%EA%B3%84-%EB%AF%BC%EC%9B%90--%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%8A%A4%ED%86%A0%EC%96%B4-%EA%B8%B0%EB%B0%98-%EB%B9%84%EB%8F%99%EA%B8%B0-pubsub-%EA%B5%AC%EC%A1%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>② 유기한 민원 / 비연계 민원 – <strong>이벤트스토어 기반 비동기 Pub/Sub 구조</strong></h4>\n<p><strong>유기한 민원</strong>은 신청 후 일정 기간 내에 결과를 제공하는, 즉 <strong>즉시 처리가 어려워 며칠에 걸쳐 처리되는 민원</strong>을 말하며,\n<strong>비연계 민원</strong>은 처리 과정에서 <strong>타 기관 시스템과 실시간 연계가 필요하지 않은 민원</strong>을 일컫습니다. </p>\n<p>이 두 유형은 성격상 즉각 처리보다는 <strong>신뢰성과 프로세스 완결성</strong>이 중요하며, 종종 <strong>백엔드에서 지연 처리가 발생</strong>한다는 공통점이 있습니다.\n따라서 전환 아키텍처에서는 이들을 <strong>이벤트 중심의 비동기 구조</strong>로 설계하였습니다.</p>\n<p>유기한/비연계 민원의 새로운 흐름에서는 우선 <strong>사용자가 민원신청을 하면 즉시 접수되었다는 응답</strong>을 돌려주고, 이후 실제 처리는 백그라운드에서 <strong>이벤트 기반으로 진행</strong>됩니다. </p>\n<p>구체적으로, <strong>민원신청 서비스(비동기 신청 MSA)</strong>는 접수 내용을 <strong>이벤트 스토어에 이벤트(Event)</strong>로 발행(Publish)하고,\n이어서 <strong>민원발급 서비스(비동기 발급 MSA)</strong>가 해당 <strong>신청 이벤트를 구독(Subscribe)</strong>하여 처리 작업을 수행하고, 최종 산출물을 생성하면 결과 완료 이벤트를 다시 발행합니다.\n사용자는 나중에 결과를 조회하거나 알림(국민비서)을 통해 완료 사실을 통보받게 됩니다.</p>\n<p>이런 <strong>Pub/Sub 비동기 패턴</strong>을 도입한 가장 큰 장점은 <strong>시스템의 견고성 향상</strong>으로, 이벤트스토어가 <strong>메시지 큐</strong>로 기능함으로써 설령 백엔드 서비스 일시 장애가 발생해도\n<strong>메시지가 유실되지 않고 대기</strong>하게 됩니다. 장애 복구 후 이어서 메시지를 처리함으로써 <strong>민원 처리의 연속성</strong>을 보장할 수 있습니다. </p>\n<p>이벤트 스토어 기반 구조로 전환하면서 고려된 주요 사항은 <strong>트랜잭션 일관성과 오류 대응</strong>입니다.\n분산 환경에서 여러 단계 처리를 이벤트로 연결할 때 <strong>Saga 패턴</strong>(분산 환경의 데이터 일관성을 유지하는 분산 트랜잭션 관리 방식)을 적용하여 <strong>프로세스 일관성</strong>을 유지했습니다.\n소비자 서비스에서는 <strong>메시지 중복 처리 방지(멱등성)</strong>를 구현하여 동일 이벤트가 두 번 처리되는 경우 부작용이 없도록 로직을 강화했습니다. </p>\n<p>또한 <strong>재시도 및 DLQ(Dead Letter Queue)</strong> 메커니즘을 마련하여, 일정 횟수 이상 처리에 실패한 이벤트는 별도 오류 큐로 보내 모니터링 및 보상 조치를 취하도록 하여,\n비동기 처리의 안정성을 높이고 운영자가 <strong>문제 상황을 추적/관리</strong>하도록 설계하였습니다.</p>\n<h4 id=\"-주요-민원--독립-네임스페이스-기반-고가용성-구조\"><a href=\"#-%EC%A3%BC%EC%9A%94-%EB%AF%BC%EC%9B%90--%EB%8F%85%EB%A6%BD-%EB%84%A4%EC%9E%84%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EA%B8%B0%EB%B0%98-%EA%B3%A0%EA%B0%80%EC%9A%A9%EC%84%B1-%EA%B5%AC%EC%A1%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>③ 주요 민원 – <strong>독립 네임스페이스 기반 고가용성 구조</strong></h4>\n<p>정부24 네이티브 전환에서 특별히 <strong>중요도가 높고 트래픽이 많은 핵심 민원</strong>들은 별도의 독립 설계가 적용되었습니다.\n대표적으로 <strong>건축물대장 발급, 자동차등록 원부 조회</strong> 같은 서비스들이 이에 해당합니다. </p>\n<p>이들은 호출 건수도 많고 대민 영향도가 커서 여타 민원과 동일한 환경에 몰아넣을 경우,\n장애 전파 위험이나 성능 저하 우려가 고려되어 전환 프로젝트에서는 이러한 <strong>주요 민원</strong>들을 <strong>별도의 실행 환경에서 독립적으로 운영</strong>하도록 아키텍처를 설계하였습니다.</p>\n<p>아키텍처 설계의 핵심은 <strong>독립 네임스페이스</strong> 전략입니다.\nKubernetes 기반 클라우드 환경에서 주요 민원 전용으로 격리된 <strong>네임스페이스(별도 마이크로서비스 그룹)</strong>를 만들어, 해당 민원의 마이크로서비스들을 그 안에서만 동작시키는 것입니다. </p>\n<p>예를 들어 건축물대장 관련 <strong>민원안내, 신청, 발급, 연계</strong> 등의 마이크로서비스는 다른 민원들과 분리된 별도 네임스페이스에 배포되고, 동일하게 자동차등록 민원도 전용 네임스페이스에서 운영됩니다.\n이렇게 하면 특정 주요 민원 서비스에 <strong>문제가 발생해도 그 영향이 다른 민원 서비스로 전파되지 않으며</strong>, 해당 민원에 필요한 <strong>리소스 할당이나 스케일 전략</strong>도 독립적으로 최적화할 수 있다는 장점이 있습니다.\n실제로 설계된 주요 민원 전용 네임스페이스에는 그 서비스에만 매핑되는 <strong>연계 채널, 마이크로서비스 복제 구성</strong> 등을 적용하여 <strong>고가용성(HA)</strong>을 극대화하였습니다.</p>\n<p>이는 앞서 지적한 <strong>민원안내 서비스의 SPOF 문제를 주요 민원별로 자체적인 민원안내 채널</strong>을 마련하여 해소할 수 있게 되었습니다. </p>\n<h2 id=\"클라우드-네이티브-전환에-적용된-주요-설계-패턴\"><a href=\"#%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%A0%84%ED%99%98%EC%97%90-%EC%A0%81%EC%9A%A9%EB%90%9C-%EC%A3%BC%EC%9A%94-%EC%84%A4%EA%B3%84-%ED%8C%A8%ED%84%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>클라우드 네이티브 전환에 적용된 주요 설계 패턴</h2>\n<p>마이크로서비스 전환의 핵심 목표 중 하나는 <strong>서비스 간 결합도(coupling)</strong>를 낮추고 <strong>경계를 명확히</strong> 하는 것입니다.\n정부24 전환 프로젝트에서도 기존 <strong>모놀리식 요소들을 제거</strong>하고 각 서비스의 <strong>자율성과 독립성</strong>을 극대화하는 방향으로 설계되었습니다. </p>\n<p>특히 <strong>데이터베이스 직접 참조</strong>로 인한 강한 결합을 이벤트 기반으로 느슨하게 결합하고, 일반 민원과 주요 민원을 분리하여 일반 민원서비스 장애에도 주요 민원 서비스는 이의 영향없이 운영되도록 설계되었습니다. </p>\n<p>이번 전환 프로젝트에서는 MSA의 기술적 완성도를 높이기 위해 다양한 디자인 패턴을 아키텍처 전반에 적용했습니다.\n분산 트랜잭션의 데이터 정합성을 위한 <strong>Saga 패턴</strong>부터, 이벤트 처리의 신뢰성을 보장하는 <strong>멱등성(Idempotency) 및 트랜잭션 패턴</strong>,\n그리고 대용량 조회 성능 최적화를 위한 <strong>CQRS 설계</strong>에 이르기까지, 시스템의 안정성과 유연성을 동시에 확보하기 위한 기술적 장치들을 촘촘하게 마련했습니다.</p>\n<p><img src=\"https://www.uengine.org/images/blog/gov24-02.png\"></p>\n<p align=\"center\">[주요 민원 이벤트스토밍 모델, MSA-Ez]</p>\n<h3 id=\"데이터-정합성을-위한-선택-choreography-saga\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%95%ED%95%A9%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%84%A0%ED%83%9D-choreography-saga\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>데이터 정합성을 위한 선택: Choreography Saga</h3>\n<p>정부24 네이티브 전환에서 민원 신청부터 발급까지 이어지는 분산 프로세스의 데이터 정합성을 보장하기 위해 <strong>Saga 패턴</strong>을 도입했으며, 설계를 위해 다음 두 가지 방식을 검토했습니다.</p>\n<ul>\n<li><strong>Choreography Saga:</strong> 각 서비스가 이벤트를 주고받으며 자율적으로 다음 단계를 처리합니다. 서비스 간 결합도는 낮아지지만, 전체 흐름을 추적하거나 복잡한 예외를 처리하기 까다롭다는 단점이 있습니다.</li>\n<li><strong>Orchestration Saga:</strong> 중앙 조정자(Orchestrator)가 프로세스를 통제합니다. 모니터링과 오류 제어가 용이한 반면, 조정자에 부하가 집중되고 서비스 간 의존성이 높아질 우려가 있습니다.</li>\n</ul>\n<p>우리는 서비스 간 결합도를 낮추고 유연성을 확보하기 위해, 내부 프로세스(신청↔발급)에는 <strong>Choreography 방식</strong>을 채택했습니다.\n단, 제어가 불가능한 외부 연계 구간은 Saga 트랜잭션 범위에서 제외하여 전체 시스템의 안정성을 도모했습니다. </p>\n<h3 id=\"구독에서-발행까지-원자적-처리-단위와-멱등성\"><a href=\"#%EA%B5%AC%EB%8F%85%EC%97%90%EC%84%9C-%EB%B0%9C%ED%96%89%EA%B9%8C%EC%A7%80-%EC%9B%90%EC%9E%90%EC%A0%81-%EC%B2%98%EB%A6%AC-%EB%8B%A8%EC%9C%84%EC%99%80-%EB%A9%B1%EB%93%B1%EC%84%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>구독에서 발행까지: 원자적 처리 단위와 멱등성</h3>\n<p>정부24 시스템의 신뢰성을 지탱하는 핵심은 이벤트를 처리하는 단위를 명확히 정의한 데 있습니다. 우리는 이벤트 스토어로부터 이벤트를 가져와(Subscribe) 비즈니스 로직을 수행하고(Transaction),\n그 결과를 다시 이벤트로 발행(Publish)하는 전체 과정을 쪼갤 수 없는 <strong>하나의 원자적 단위</strong>로 설계했습니다. </p>\n<p>하지만 분산 네트워크 환경에서는 장애 복구 과정에서 메시지가 재전송되거나 중복 유입되는 경우가 발생할 수 있습니다.\n이에 대한 안전장치로 우리는 <strong>비즈니스 관점의 멱등성(Idempotency)</strong> 체계를 구축했습니다. </p>\n<p>구체적으로는 <strong>DB의 Unique 제약조건</strong>을 활용하거나, 로직 수행 전 <strong>현재 민원의 처리 상태(Status)</strong>를 먼저 확인하는 방식을 적용했습니다.\n즉, 이미 '발급 완료'된 신청 건에 대해 중복 요청이 들어오면 시스템이 이를 감지하고 추가 작업을 수행하지 않도록 만든 것입니다.</p>\n<p>결과적으로, 카프카(Kafka)와 같은 메시징 시스템이 보장하는 <strong>'최소 1회 처리(At-least-once)'</strong> 방식의 안정성을 누리면서도, 데이터 중복 문제는 완벽하게 해소하여 데이터 무결성을 지켜냈습니다.</p>\n<h3 id=\"추적-가능한-이벤트-설계와-dlq-전략\"><a href=\"#%EC%B6%94%EC%A0%81-%EA%B0%80%EB%8A%A5%ED%95%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%84%A4%EA%B3%84%EC%99%80-dlq-%EC%A0%84%EB%9E%B5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>추적 가능한 이벤트 설계와 DLQ 전략</h3>\n<p><strong>이벤트 설계</strong> 측면에서도 정부24 전환 프로젝트는 몇 가지 원칙과 전략을 수립하였습니다. 먼저 <strong>메시지 명명 및 구조</strong>에 일관성을 부여하여, 이벤트만 보고서도 그 의미를 파악하기 쉽게 했습니다. </p>\n<p>모든 도메인 이벤트에는 가독성이 높은 <strong>명명 규칙</strong>을 적용했는데, 예를 들어 <strong>“민원신청 완료” 이벤트는 ApplicationSubmitted라는 식의 도메인 동사 형태</strong>로 정의되었습니다.\n또한, 일반 민원과 자동차등록처럼 유형이 다른 경우, 이벤트 이름에 구분자를 넣어 (GeneralApplicationSubmitted, CarApplicationSubmitted 등) 한눈에 구별할 수 있게 했습니다.\n이러한 <strong>도메인 기반 이벤트 네이밍</strong>은 운영 중 로그나 트레이싱에서도 도움이 되어, 어떤 이벤트가 어디서 유래한 것인지 명확히 식별할 수 있습니다. </p>\n<p>메시지 내용에는 민원 ID, 처리 단계, 타임스탬프, 출처 서비스 등 <strong>필요한 메타데이터를 충분히 포함</strong>시켜 <strong>추적성(traceability)</strong>을 높였습니다.\n다만, 이벤트에 지나치게 큰 데이터 덩어리를 담지 않도록 유의하여 파일이나 서식 정보등은 별도 저장소에 두고 <strong>이벤트에는 참조 링크만 포함</strong>하는 방식으로 메시지 크기를 관리하였습니다. </p>\n<p>오류나 예외 상황에 대비한 <strong>Dead Letter Queue (DLQ) 전략</strong>도 중요하게 적용되었습니다.\n메시지 Consumer가 메시지를 처리하다가 <strong>지속적으로 오류가 발생하는 경우</strong> 해당 메시지를 별도의 토픽으로 격리시켜 정상 흐름을 방해하지 않도록 한 것입니다. </p>\n<p>정부24전환 프로젝트의 경우 <strong>도메인 이벤트 유형별로 DLQ 토픽을 별도로 생성</strong>하여, 예를 들어 ApplicationSubmitted 이벤트 처리가 계속 실패하면 ApplicationSubmitted.DLQ와 같이 사전에 정의된 오류 토픽에 해당 메시지를 보내도록 하였습니다. </p>\n<p>Consumer 설정에서 <strong>일정 횟수(예: 3회) 재시도 후에도 실패하면 자동으로 DLQ로 Publish</strong>되게 했으며,\nDLQ에 쌓인 이벤트를 <strong>재처리하거나 대안 조치를 취하는 별도 Consumer</strong>를 두어, <strong>보상 트랜잭션(Rollback in Saga) 처리</strong>를 수행하게 설계했습니다. </p>\n<h3 id=\"대규모-조회-트래픽-대응을-위한-cqrs-아키텍처\"><a href=\"#%EB%8C%80%EA%B7%9C%EB%AA%A8-%EC%A1%B0%ED%9A%8C-%ED%8A%B8%EB%9E%98%ED%94%BD-%EB%8C%80%EC%9D%91%EC%9D%84-%EC%9C%84%ED%95%9C-cqrs-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>대규모 조회 트래픽 대응을 위한 CQRS 아키텍처</h3>\n<p>정부24포털처럼 <strong>읽기(민원처리 결과 조회) 트래픽이 많은 서비스</strong>에서 <strong>CQRS</strong>(Command Query Responsibility Segregation) 패턴은 클라우드 네티이브를 구축함에 있어 필수적입니다. </p>\n<p>CQRS는 <strong>쓰기 작업과 읽기 작업을 분리</strong>하여 각각 최적화된 방식으로 처리하는 아키텍처 패턴으로, 주로 <strong>조회 성능 개선과 확장성 향상</strong>을 위해 도입됩니다.\n정부24 전환 프로젝트에서도 <strong>신청 결과 조회 서비스</strong>에 CQRS 개념을 적용하는 방안이 논의되고 설계에 반영되었습니다.</p>\n<p>기존 정부24에서는 하나의 통합 DB에 신청부터 발급, 조회까지 모든 데이터가 저장되고 사용되었습니다.\n이러한 <strong>단일 데이터베이스 구조</strong>에서는 읽기 부하가 높아질 경우, 쓰기 트랜잭션에 영향을 주거나, 반대로 대량 입력/수정이 발생하면 조회 응답이 느려지는 문제가 생길 수 있습니다. </p>\n<p>이를 개선하고자 새 아키텍처에서는 <strong>신청결과 조회를 전담하는 마이크로서비스</strong>를 분리하고, 필요 시 <strong>저장소까지 분리</strong>하는 CQRS 모델을 제안하였습니다.\n예를 들어, 민원 신청/발급 서비스는 운영 DB에 쓰기 위주 작업을 하고, 신청결과 서비스는 별도의 <strong>읽기 전용 DB 또는 캐시</strong>를 두어 조회 쿼리를 실행하도록 하는 것입니다.\n이렇게 하면 조회 성능을 높이면서도, 본 시스템의 트랜잭션 부하를 분산시킬 수 있습니다.</p>\n<h2 id=\"맺음말-공공-플랫폼의-새로운-표준을-제시하다\"><a href=\"#%EB%A7%BA%EC%9D%8C%EB%A7%90-%EA%B3%B5%EA%B3%B5-%ED%94%8C%EB%9E%AB%ED%8F%BC%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-%ED%91%9C%EC%A4%80%EC%9D%84-%EC%A0%9C%EC%8B%9C%ED%95%98%EB%8B%A4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>맺음말: 공공 플랫폼의 새로운 표준을 제시하다</h2>\n<p>정부24의 클라우드 네이티브 전환은 단순한 시스템 이전을 넘어, 공공 민원서비스의 체질을 개선하고 기술적 유연성을 확보한 의미 있는 사례입니다.</p>\n<p>이번 프로젝트에서 유엔진솔루션즈는 도메인 주도 설계(DDD)를 기반으로 서비스 경계를 명확히 하고, <strong>Saga 패턴과 이벤트 스토어 기반의 비동기 통신</strong> 등 MSA 베스트 프랙티스를 전략적으로 적용했습니다.\n이를 통해 정부24포털은 기술적으로 더 유연하고 탄력적인 플랫폼으로 진화할 수 있었습니다.</p>\n<p>특히 이번 전환은 '마이크로서비스 아키텍처(MSA)가 대규모 공공서비스의 해법'임을 실증했다는 점에서 그 의의가 큽니다.\n과거 단일 장애가 전체 서비스 마비로 이어지던 구조적 한계를 넘어, 이제는 서비스 격리(Isolation)를 통해 주요 업무의 연속성을 보장하게 되었습니다.\n또한, 폭증하는 트래픽에도 자동 확장(Auto-scaling)과 분산 처리로 유연하게 대응할 수 있는 안정적인 기반을 갖추게 되었습니다.</p>\n","sidebar":"started","next":"","prev":"","headings":[{"depth":1,"value":"정부24 클라우드 네이티브 전환: 마이크로서비스 아키텍처로 공공서비스 혁신하기","anchor":"#정부24-클라우드-네이티브-전환-마이크로서비스-아키텍처로-공공서비스-혁신하기"},{"depth":2,"value":"공공 클라우드 전환 배경과 정부24의 도전","anchor":"#공공-클라우드-전환-배경과-정부24의-도전"},{"depth":2,"value":"정부24 클라우드 네이티브 전환 분석","anchor":"#정부24-클라우드-네이티브-전환-분석"},{"depth":3,"value":"기존 시스템의 문제점 (AS-IS 아키텍처 한계)","anchor":"#기존-시스템의-문제점-as-is-아키텍처-한계"},{"depth":4,"value":"1. 강한 결합(Tight Coupling)으로 인한 경직성","anchor":"#1-강한-결합tight-coupling으로-인한-경직성"},{"depth":4,"value":"2. '민원안내' 서비스의 SPOF 리스크","anchor":"#2-민원안내-서비스의-spof-리스크"},{"depth":3,"value":"민원 유형별 아키텍처 전환 전략 (TO-BE 구조 설계)","anchor":"#민원-유형별-아키텍처-전환-전략-to-be-구조-설계"},{"depth":4,"value":"① 단순신청/즉시발급형 민원 – ","anchor":"#-단순신청즉시발급형-민원--동기식--rest-기반-msa"},{"depth":4,"value":"② 유기한 민원 / 비연계 민원 – ","anchor":"#-유기한-민원--비연계-민원--이벤트스토어-기반-비동기-pubsub-구조"},{"depth":4,"value":"③ 주요 민원 – ","anchor":"#-주요-민원--독립-네임스페이스-기반-고가용성-구조"},{"depth":2,"value":"클라우드 네이티브 전환에 적용된 주요 설계 패턴","anchor":"#클라우드-네이티브-전환에-적용된-주요-설계-패턴"},{"depth":3,"value":"데이터 정합성을 위한 선택: Choreography Saga","anchor":"#데이터-정합성을-위한-선택-choreography-saga"},{"depth":3,"value":"구독에서 발행까지: 원자적 처리 단위와 멱등성","anchor":"#구독에서-발행까지-원자적-처리-단위와-멱등성"},{"depth":3,"value":"추적 가능한 이벤트 설계와 DLQ 전략","anchor":"#추적-가능한-이벤트-설계와-dlq-전략"},{"depth":3,"value":"대규모 조회 트래픽 대응을 위한 CQRS 아키텍처","anchor":"#대규모-조회-트래픽-대응을-위한-cqrs-아키텍처"},{"depth":2,"value":"맺음말: 공공 플랫폼의 새로운 표준을 제시하다","anchor":"#맺음말-공공-플랫폼의-새로운-표준을-제시하다"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/toppings/test-unit/","title":"Unit-Test"}},{"node":{"path":"/toppings/test-microcks/","title":"API Mock Server"}},{"node":{"path":"/toppings/test-messaging/","title":"Contract Test (비동기호출)"}},{"node":{"path":"/toppings/k8s-kubernetes/","title":"Kubernetes"}},{"node":{"path":"/toppings/test-contract/","title":"Contract Test (동기호출)"}},{"node":{"path":"/toppings/cicd-git-action/","title":"Github Action"}},{"node":{"path":"/toppings/cicd-argo/","title":"Argo"}},{"node":{"path":"/tool/wireframe-generate/","title":"DDD 기반 UI 설계 및 자동 구현"}},{"node":{"path":"/tool/si-gpt/","title":""}},{"node":{"path":"/tool/setup-on-prem/","title":"Running on Docker Compose (with Github)"}},{"node":{"path":"/tool/on-prem-inst-gitea/","title":"on-prem 설치 설명서"}},{"node":{"path":"/tool/plsql-2-java/","title":"Legacy Modernizer"}},{"node":{"path":"/tool/pbc-marketplace/","title":"컴포저블 엔터프라이즈 구현을 위한 PBCs(Packaged Business Capabilities)"}},{"node":{"path":"/tool/on-prem-inst/","title":"on-prem 설치 설명서"}},{"node":{"path":"/tool/model-driven/","title":"코드 생성"}},{"node":{"path":"/tool/marketplace/","title":"마켓플레이스"}},{"node":{"path":"/tool/infrastructure-modeling/","title":"인프라 모델링 (쿠버네티스)"}},{"node":{"path":"/tool/k8s-modeling/","title":"K8s 배포 모델링"}},{"node":{"path":"/tool/google-drive-examples/","title":"Quick Start"}},{"node":{"path":"/tool/event-storming-tool/","title":"이벤트스토밍"}},{"node":{"path":"/tool/event-monitoring/","title":"이벤트 모니터링"}},{"node":{"path":"/tool/deepseek-ai/","title":""}},{"node":{"path":"/tool/development-practice/","title":"강의 개발 및 실습 환경"}},{"node":{"path":"/tool/ddl-to-eventstorming2/","title":"DDL To EventStorming"}},{"node":{"path":"/tool/chat-gpt/","title":"AI 기반 모델 생성"}},{"node":{"path":"/tool/ddl-to-eventstorming/","title":"DDL To EventStorming"}},{"node":{"path":"/tool/cloud-ide-tool/","title":"클라우드 IDE"}},{"node":{"path":"/tool/bc-domain-gen/","title":"자연어 기반 Bounded Context & 도메인 설계 AI"}},{"node":{"path":"/tool/attending-lectures/","title":"Attending lectures"}},{"node":{"path":"/templates-language/springboot-java-template/","title":"Spring Boot/Java Template(준비중)"}},{"node":{"path":"/tool/aggregate-design/","title":"애그리거트(Aggregate) 설계"}},{"node":{"path":"/templates-language/python-template/","title":"Python Template "}},{"node":{"path":"/started/","title":"소개"}},{"node":{"path":"/templates-language/go-template/","title":"Go Template"}},{"node":{"path":"/started/key-features/","title":"주요 기능"}},{"node":{"path":"/started/vibe-coding/","title":"Vibe Coding"}},{"node":{"path":"/started/event-storming-learning/","title":"이벤트스토밍 학습"}},{"node":{"path":"/started/domain-driven/","title":"도메인 주도 설계 학습"}},{"node":{"path":"/info/company/","title":"기업 사례"}},{"node":{"path":"/info/pricing/","title":"가격 정책"}},{"node":{"path":"/info/partnership/","title":"파트너 프로그램"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-istio/","title":"Istio Mesh"}},{"node":{"path":"/info/consulting/","title":"컨설팅"}},{"node":{"path":"/info/case-study-gov24/","title":"정부24 클라우드 네이티브 전환: 마이크로서비스 아키텍처로 공공서비스 혁신하기"}},{"node":{"path":"/operation/ops-deploy-diagramming-basic-objects/","title":"12st Mall Basic Deploy"}},{"node":{"path":"/example-scenario/online-lecture/","title":"인터넷 강의수강 시스템"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-pvc/","title":"Persistent Volume"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-ingress/","title":"Ingress 배포모델 설계"}},{"node":{"path":"/operation/ops-deploy-diagramming-advanced-hpa/","title":"자동확장(HPA) 배포"}},{"node":{"path":"/example-scenario/library-system/","title":"도서관 시스템"}},{"node":{"path":"/example-scenario/food-delivery/","title":"음식배달"}},{"node":{"path":"/example-scenario/accommodation-reservation/","title":"숙소예약"}},{"node":{"path":"/example-scenario/animal-hospital/","title":"동물병원 진료시스템"}},{"node":{"path":"/development/understanding-jpa-based-single-microservice/","title":"마이크로서비스 구현 및 동작원리 이해"}},{"node":{"path":"/development/token-based-auth/","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"/development/pubsub-idempotency/","title":"Pub/Sub 방식의 연동 - Choreography with Idempotency"}},{"node":{"path":"/development/pubsub-deadline/","title":"Pub/Sub 방식의 연동 - Choreography with Deadline added"}},{"node":{"path":"/development/pub-sub/","title":"Pub/Sub 방식의 연동 "}},{"node":{"path":"/development/orchestration-saga/","title":"Orchestration Saga with Axon Framework"}},{"node":{"path":"/development/ops-docker/","title":"Application Packaging with Container (Docker)"}},{"node":{"path":"/development/oauth2with-keycloak/","title":"JWT Token 기반 인증 인가"}},{"node":{"path":"/development/kafka-scaling/","title":"Kafka Scaling "}},{"node":{"path":"/development/monolith-2-misvc/","title":"Req/Res 방식의 MSA 연동 "}},{"node":{"path":"/development/kafka-scaling-concurrenty-handling/","title":"Kafka scaling & Concurrenty handling"}},{"node":{"path":"/development/kafka-retry-dlq/","title":"Kafka Retry & Dead Letter Queue "}},{"node":{"path":"/development/kafka-connect/","title":"CDC(Change Data Capture) with Kafka"}},{"node":{"path":"/development/kafka-basic/","title":"Kafka 기본 명령어 "}},{"node":{"path":"/development/gateway/","title":"API Gateway"}},{"node":{"path":"/development/dp-graphql/","title":"Data Projection with GraphQL"}},{"node":{"path":"/development/dp-frontend/","title":"Data Projection with Frontend and HATEOAS"}},{"node":{"path":"/development/contract-test/","title":"Contract Test (Consumer Driven Test)"}},{"node":{"path":"/development/dp-cqrs/","title":"Data Projection with CQRS"}},{"node":{"path":"/development/conteact-messaging/","title":"Conteact Test by Message-based CDC"}},{"node":{"path":"/development/compensation-correlation/","title":"Pub/Sub 방식의 연동 - Compensation 과 Correlation"}},{"node":{"path":"/development/cna-start/","title":"단위 마이크로 서비스의 실행 "}},{"node":{"path":"/development/choreography-saga/","title":"Choreography Saga"}},{"node":{"path":"/development/circuit-breaker/","title":"Req/Res 방식에서 장애전파 차단 - 서킷브레이커 "}},{"node":{"path":"/custom-template/unit-test/","title":"테스트 자동화"}},{"node":{"path":"/custom-template/understanding-template-structure/","title":"템플릿 구조의 이해"}},{"node":{"path":"/custom-template/tutorial/","title":"커스텀 템플릿 개념"}},{"node":{"path":"/custom-template/template-syntax/","title":"Template 문법의 이해"}},{"node":{"path":"/custom-template/template-structure/","title":"템플릿 파일 구조"}},{"node":{"path":"/custom-template/mock-server/","title":"Open API 3.0 기반 목 서버 생성 토핑(New)"}},{"node":{"path":"/custom-template/template-editor/","title":"Template Editor"}},{"node":{"path":"/custom-template/template-editor-custom-template/","title":"커스텀 템플릿 생성 방법"}},{"node":{"path":"/custom-template/loop-conditional-statement/","title":"반복문 & 조건문"}},{"node":{"path":"/custom-template/helper/","title":"Helper"}},{"node":{"path":"/custom-template/global-helper/","title":"Global Helper"}},{"node":{"path":"/custom-template/designing-template-helper/","title":"Built-in Helper functions"}},{"node":{"path":"/custom-template/custom-template/","title":"Eventstorming Template Objects"}},{"node":{"path":"/custom-template/creating-custom-template-1/","title":"커스텀 템플릿 생성"}},{"node":{"path":"/contact/question/","title":"CONTACT"}},{"node":{"path":"/business/","title":"이벤트스토밍"}},{"node":{"path":"/business/eventstorming-fooddelivery/","title":"[이벤트스토밍] - DDD Food Delivery 예제"}},{"node":{"path":"/business/ddd-google-drive/","title":"[이벤트스토밍] - 구글 드라이브 예제"}}]}},"context":{}}